{"problem_name": "aime_1984_p7", "category": "unknown", "metadata": {}, "informal_statement": "The [[function]] f is defined on the [[set]] of [[integer]]s and satisfies $f(n)=\\begin{cases}\nn-3&\\mbox{if}\\ n\\ge 1000\\\\\nf(f(n+5))&\\mbox{if}\\ n<1000\\end{cases}$\n\nFind $f(84)$. Show that it is 997.", "informal_proof": "Define $f^{h} = f(f(\\cdots f(f(x))\\cdots))$, where the function $f$ is performed $h$ times. We find that $ f(84) = f(f(89)) = f^2(89) = f^3(94) = \\ldots f^{y}(1004)$. $1004 = 84 + 5(y - 1) \\Longrightarrow y = 185$. So we now need to reduce $f^{185}(1004)$.\n\nLet\u2019s write out a couple more iterations of this function:\n$\\begin{align*}f^{185}(1004)&=f^{184}(1001)=f^{183}(998)=f^{184}(1003)=f^{183}(1000)\\\\\n&=f^{182}(997)=f^{183}(1002)=f^{182}(999)=f^{183}(1004)\\end{align*}$\nSo this function reiterates with a period of 2 for $x$. It might be tempting at first to assume that $f(1004) = 1001$ is the answer; however, that is not true since the solution occurs slightly before that. Start at $f^3(1004)$:\n$f^{3}(1004)=f^{2}(1001)=f(998)=f^{2}(1003)=f(1000)=997$\n\nNote that we should also be suspicious if our answer is $1001$- it is a $4$-digit number, and we were not asked to, say, divide our number by $13$.", "formal_statement": "theorem aime_1984_p7:\n  fixes f :: \"nat \\<Rightarrow> nat\"\n  assumes h0: \"\\<forall> n\\<ge>1000.  f n = n - 3\"\n      and h1: \"\\<forall> n < 1000. f n = f (f (n + 5))\"\n  shows \"f 84 = 997\"", "formal_code": "(*\n  Authors: Wenda Li\n*)\n\ntheory aime_1984_p7 imports Complex_Main\nbegin\n\ntheorem aime_1984_p7:\n  fixes f :: \"nat \\<Rightarrow> nat\"\n  assumes h0: \"\\<forall> n\\<ge>1000.  f n = n - 3\"\n      and h1: \"\\<forall> n < 1000. f n = f (f (n + 5))\"\n  shows \"f 84 = 997\"\n  using assms by auto\n\nend\n"}