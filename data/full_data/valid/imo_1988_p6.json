{"problem_name": "imo_1988_p6", "category": "unknown", "metadata": {}, "informal_statement": "Let $a$ and $b$ be positive integers such that $ab + 1$ divides $a^{2} + b^{2}$. Show that\n$\n\\frac {a^{2} + b^{2}}{ab + 1}\n$\nis the square of an integer.", "informal_proof": "Choose integers $a,b,k$ such that $a^2+b^2=k(ab+1)$\nNow, for fixed $k$, out of all pairs $(a,b)$ choose the one with the lowest value of $\\min(a,b)$. Label $b'=\\min(a,b), a'=\\max(a,b)$. Thus, $a'^2-kb'a'+b'^2-k=0$ is a quadratic in $a'$. Should there be another root, $c'$, the root would satisfy: $b'c'\\leq a'c'=b'^2-k<b'^2\\implies c'<b'$\nThus, $c'$ isn't a positive integer (if it were, it would contradict the minimality condition). But $c'=kb'-a'$, so $c'$ is an integer; hence, $c'\\leq 0$. In addition, $(a'+1)(c'+1)=a'c'+a'+c'+1=b'^2-k+b'k+1=b'^2+(b'-1)k+1\\geq 1$ so that $c'>-1$. We conclude that $c'=0$ so that $b'^2=k$.\n\nThis construction works whenever there exists a solution $(a,b)$ for a fixed $k$, hence $k$ is always a perfect square.", "formal_statement": "theorem imo_1988_p6:\n  fixes a b :: nat\n  assumes h0 : \"0<a \\<and> 0<b\"\n    and h1 : \"(a*b+1) dvd (a^2 + b^2)\"\n  shows \"\\<exists>(x::nat). ((x^2) = (a^2+b^2)/(a*b+1))\"", "formal_code": "(*\n  Authors: Albert Qiaochu Jiang\n*)\n\ntheory imo_1988_p6 imports\n  Complex_Main\nbegin\n\ntheorem imo_1988_p6:\n  fixes a b :: nat\n  assumes h0 : \"0<a \\<and> 0<b\"\n    and h1 : \"(a*b+1) dvd (a^2 + b^2)\"\n  shows \"\\<exists>(x::nat). ((x^2) = (a^2+b^2)/(a*b+1))\"\n  sorry\n\nend"}