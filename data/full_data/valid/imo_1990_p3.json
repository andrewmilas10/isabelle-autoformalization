{"problem_name": "imo_1990_p3", "category": "unknown", "metadata": {}, "informal_statement": "Determine all integers $n > 1$ such that $\\frac{2^n+1}{n^2}$ is an integer.", "informal_proof": "Let $ N = \\{ n\\in\\mathbb{N} : 2^n\\equiv - 1\\pmod{n^2} \\}$ be the set of all solutions and $ P = \\{ p\\text{ is prime} : \\exists n\\in N, p|n \\}$ be the set of all prime factors of the solutions.\n\nIt is clear that the smallest element of $ P$ is 3.\nAssume that $ P\\ne\\{3\\}$ and let's try to determine the second smallest element $ q = \\min (P\\setminus\\{3\\})$.\n\nLet $ n\\in N$ be a multiple of $ q$. It is important to notice that $ 9\\not|n$ (otherwise it is easy to get that any power of $ 3$ divides $ n$, a non-sense). Therefore, $ n = 3^t n'$ where $ t = 0$ or $ 1$ and $ n'$ does not have prime divisors smaller than $ q$.\nSince $ 2^{2n}\\equiv 1\\pmod{q}$, the multiplicative order $ r = ord_q(2)$ of 2 modulo $ q$ divides $ 2n$. Moreover, $ r$ must be even, since otherwise we would have $ 2^n \\equiv 1\\pmod{q}$, a contradiction to the required $ 2^n \\equiv - 1\\pmod{q}$.\nSince $ r < q$ we must have $ r = 2$ or $ 2\\cdot 3 = 6$. But the numbers $ 2^2 - 1 = 3$ and $ 2^6 - 1 = 63$ deliver only one new prime factor $ 7$, implying that $ q = 7$. However, in this case $ r = ord_7(2) = 3$, a contradiction. This contradiction proves that $ P = \\{3\\}$ and thus $ N = \\{1,3\\}$.\n\nThis solution was posted and copyrighted by maxal/orl. The original thread for this problem can be found here: [https://aops.com/community/p1225144]", "formal_statement": "theorem imo_1990_p3:\n  fixes n :: nat\n  assumes \"2 \\<le> n\"\n    and \"n^2 dvd 2^n + 1\"\n  shows \"n = 3\"", "formal_code": "(*\n  Authors: Wenda Li\n*)\n\ntheory imo_1990_p3 imports\n  Complex_Main\nbegin\ntheorem imo_1990_p3:\n  fixes n :: nat\n  assumes \"2 \\<le> n\"\n    and \"n^2 dvd 2^n + 1\"\n  shows \"n = 3\"\n  sorry\n\nend\n"}