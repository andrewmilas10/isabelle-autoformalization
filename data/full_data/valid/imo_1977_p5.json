{"problem_name": "imo_1977_p5", "category": "unknown", "metadata": {}, "informal_statement": "Let $a,b$ be two natural numbers. When we divide $a^2+b^2$ by $a+b$, we the the remainder $r$ and the quotient $q.$ Determine all pairs $(a, b)$ for which $q^2 + r = 1977.$ Show that it is (a,b)=(37,50) , (7, 50).", "informal_proof": "Using $r=1977-q^2$, we have $a^2+b^2=(a+b)q+1977-q^2$, or $q^2-(a+b)q+a^2+b^2-1977=0$, which implies $\\Delta=7908+2ab-2(a^2+b^2)\\ge 0$. If we now assume Wlog that $a\\ge b$, it follows $a+b\\le 88$. If $q\\le 43$, then $r=1977-q^2\\ge 128$, contradicting $r<a+b\\le 88$. But $q\\le 44$ from $q^2+r=1977$, thus $q=44$. It follows $r=41$, and we get $a^2+b^2=44(a+b)+41\\Leftrightarrow (a-22)^2+(b-22)^2=1009\\in \\mathbb{P}$. By Jacobi's two squares theorem, we infer that $15^2+28^2=1009$ is the only representation of $1009$ as a sum of squares. This forces $(a,b)=(37,50) , (7, 50)$, and permutations. $\\blacksquare$", "formal_statement": "theorem imo_1977_p5:\n  fixes a b q r :: nat\n  assumes h0 : \"r < a + b\"\n    and h1 : \"a^2 + b^2 = (a+b) * q + r\"\n    and h2 : \"q^2 + r = 1977\"\n  shows \"(abs (int a - 22) = 15 \\<and> abs (int b - 22) = 28) \\<or> (abs (int a - 22) = 28 \\<and> abs (int b - 22) = 15)\"", "formal_code": "(*\n  Authors: Albert Qiaochu Jiang\n*)\n\ntheory imo_1977_p5 imports\nComplex_Main\n\nbegin\n\ntheorem imo_1977_p5:\n  fixes a b q r :: nat\n  assumes h0 : \"r < a + b\"\n    and h1 : \"a^2 + b^2 = (a+b) * q + r\"\n    and h2 : \"q^2 + r = 1977\"\n  shows \"(abs (int a - 22) = 15 \\<and> abs (int b - 22) = 28) \\<or> (abs (int a - 22) = 28 \\<and> abs (int b - 22) = 15)\"\n  sorry\n\nend"}