{"problem_name": "mathd_algebra_132", "category": "unknown", "metadata": {}, "informal_statement": "If $f (x) = x + 2$ and $g (x) = x^2$, then for what value of $x$ does $f(g(x)) = g(f(x))$? Express your answer as a common fraction. Show that it is $-\\frac{1}{2}$.", "informal_proof": "We have that $f(g(x)) = f(x^2) = x^2 + 2$ and $g(f(x)) = g(x + 2) = (x + 2)^2 = x^2 + 4x + 4,$ so we want to solve\n\\[x^2 + 2 = x^2 + 4x + 4.\\]This simplifies to $4x = -2,$ so $x = -\\frac{1}{2}.$", "formal_statement": "theorem mathd_algebra_132:\n  fixes x :: real\n    and f g :: \"real \\<Rightarrow> real\"\n  assumes h0 : \"\\<And>x. f x = x + 2\"\n    and h1 : \"\\<And>x. g x = x^2\"\n    and h2 : \"f (g x) = g (f x)\"\n  shows \"x = -1/2\"", "formal_code": "(*\n  Authors: Albert Qiaochu Jiang\n*)\n\ntheory mathd_algebra_132 imports\n  Complex_Main\nbegin\n\ntheorem mathd_algebra_132:\n  fixes x :: real\n    and f g :: \"real \\<Rightarrow> real\"\n  assumes h0 : \"\\<And>x. f x = x + 2\"\n    and h1 : \"\\<And>x. g x = x^2\"\n    and h2 : \"f (g x) = g (f x)\"\n  shows \"x = -1/2\"\nproof -\n  have \"f (g x) = x^2 + 2\" using h0[of \"g x\"] h1[of x] by simp\n  also have \"g (f x) = (x+2)^2\" using h0[of x] h1[of \"f x\"] by simp\n  ultimately have \"x^2 + 2 = (x+2)^2\" using h2 by simp\n  also have \"\\<dots> = x^2 + 4 * x + 4\"\n    by (simp add: add.commute mult.commute power2_sum)\n  ultimately have \"x^2 + 2 = x^2 + 4 * x + 4\" by simp\n  hence \"2 = 4 * x + 4\" by simp\n  then show ?thesis by linarith\nqed\n\nend"}